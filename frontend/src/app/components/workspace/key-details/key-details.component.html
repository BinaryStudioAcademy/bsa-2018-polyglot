<div class="key-details mt-1 mb-1" *ngIf="isEmpty">
	<mat-card class="no-languages-div">
	<p>No languages</p>
	</mat-card>
</div>
<div *ngIf="!isLoad && !isEmpty" class="spinner key-details my-1 px-0 grow-1 mr-0 ml-1">
		<mat-spinner></mat-spinner> 
</div> 
<mat-card *ngIf="isLoad" class="key-details my-1 px-0 grow-1 mr-0 ml-1">
	<div>
		<div *ngFor="let t of keyDetails.translations; let i = index;" class="comments-container">
				<mat-accordion class="example-headers-align">
						<mat-expansion-panel [expanded]="expandedArray[i].isOpened" (opened)="setStep(i)" hideToggle>
						  <mat-expansion-panel-header class="header-translation" *ngIf = "!(expandedArray[i].isOpened)" >
								  <mat-panel-title class="mat-panel-title">
									  <p>{{t.languageName}}</p>
								  </mat-panel-title>
								  <mat-panel-description class="mat-panel-description">
								  	<p *ngIf = "t.translationValue">{{t.translationValue}}</p>
								  	<p *ngIf = "!t.translationValue" class="none-translation">Click here to start translating...
									</p>
								</mat-panel-description>
							</mat-expansion-panel-header>
					  
						   <div >
								<mat-form-field class="textarea-translation">
										<mat-label class="language-label">{{t.languageName}}</mat-label>
										<textarea matInput
												[(ngModel)]="t.translationValue"
												  cdkTextareaAutosize
													  cdkAutosizeMinRows="2"
													  placeholder="Write here to start translating"
													  cdkAutosizeMaxRows="10"></textarea>
								</mat-form-field>
								<div class="button-translation">
									<div>
									<button mat-raised-button color="primary" style="margin-right: 35px" (click)="onSave(i, t)">Save</button>
									<button mat-raised-button class="machine-translation-btn" matTooltip="Machine Translation" matTooltipPosition="below" (click)="openMachineTranslationBottomSheet(i,t)">
										<mat-icon class="icon-size" matTooltip="Machine Translation" matTooltipPosition="under">g_translate</mat-icon>
									</button>
									</div>
									<button mat-raised-button color="warn"  (click)="onClose(i, t)">Close</button>
								</div>
								
						  </div>
						</mat-expansion-panel>
				</mat-accordion>
		</div>
	</div>
</mat-card>

<mat-card class="my-1 ml-1 px-1 grow-1 translations-details">
	<mat-tab-group flex>
		<mat-tab label="Detail">
			<ng-template mat-tab-label>
				<mat-icon class="icon-size" matTooltip="Detail" matTooltipPosition="above">details</mat-icon>
			</ng-template>
			<app-tab-detail [(keyDetails)]="keyDetails"></app-tab-detail>
		</mat-tab>
		<mat-tab label="History">
			<ng-template mat-tab-label>
				<mat-icon class="icon-size" matTooltip="History" matTooltipPosition="above">history</mat-icon>
			</ng-template>
			<!-- <app-tab-history></app-tab-history> -->
			<app-tab-history *ngIf="isLoad" [(keyDetails)]="keyDetails"></app-tab-history>
		</mat-tab>
		<mat-tab label="Comment">
			<ng-template mat-tab-label>
				<mat-icon class="icon-size" matTooltip="Comment" matTooltipPosition="above">comment</mat-icon>
			</ng-template>
			<app-tab-comments></app-tab-comments>
			<!-- <app-tab-comments *ngIf="keyDetails" [(keyDetails)] = "keyDetails"></app-tab-comments> -->

		</mat-tab>
		<mat-tab label="O_Translation">
			<ng-template mat-tab-label>
				<mat-icon class="icon-size" matTooltip="Optional Translation" matTooltipPosition="above">translate</mat-icon>
			</ng-template>
		</mat-tab>
	</mat-tab-group>
</mat-card>